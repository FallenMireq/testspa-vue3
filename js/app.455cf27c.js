(function(e){function t(t){for(var a,r,l=t[0],o=t[1],i=t[2],d=0,b=[];d<l.length;d++)r=l[d],Object.prototype.hasOwnProperty.call(u,r)&&u[r]&&b.push(u[r][0]),u[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);s&&s(t);while(b.length)b.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,l=1;l<n.length;l++){var o=n[l];0!==u[o]&&(a=!1)}a&&(c.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},u={app:0},c=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/testspa-vue3/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var i=0;i<l.length;i++)t(l[i]);var s=o;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"201b":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function u(e,t,n,u,c,r){var l=Object(a["s"])("UserForm"),o=Object(a["s"])("UsersOverview");return Object(a["l"])(),Object(a["e"])(a["a"],null,[Object(a["g"])(l,{onDone:t[1]||(t[1]=function(e){return u.formCompleted(e)}),ref:"form"},null,512),Object(a["g"])(o,{class:"app__users-overview"})],64)}n("b0c0");var c=Object(a["z"])("data-v-6d84e53f");Object(a["n"])("data-v-6d84e53f");var r=Object(a["g"])("label",null,"ФИО",-1),l=Object(a["g"])("label",null,"Дата рождения",-1),o=Object(a["g"])("label",null,"Email",-1),i=Object(a["g"])("label",null,"Телефон",-1),s=Object(a["g"])("label",null,"Дистанция",-1),d=Object(a["g"])("option",null,"3",-1),b=Object(a["g"])("option",null,"5",-1),p=Object(a["g"])("option",null,"10",-1),f=Object(a["g"])("label",null,"Сумма взноса",-1),O={class:"buttons"};Object(a["m"])();var j=c((function(e,t,n,u,c,j){var v=Object(a["s"])("DatePicker"),m=Object(a["s"])("EmailInput"),g=Object(a["s"])("PhoneInput");return Object(a["l"])(),Object(a["e"])("form",{onSubmit:t[8]||(t[8]=function(e){return u.submit(e)})},[Object(a["g"])("div",{class:{field:!0,field_invalid:!u.validation.name}},[r,Object(a["y"])(Object(a["g"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return u.user.name=e})},null,512),[[a["v"],u.user.name]])],2),Object(a["g"])("div",{class:{field:!0,field_invalid:!u.validation.date}},[l,Object(a["g"])(v,{modelValue:u.user.date,"onUpdate:modelValue":t[2]||(t[2]=function(e){return u.user.date=e})},null,8,["modelValue"])],2),Object(a["g"])("div",{class:{field:!0,field_invalid:!u.validation.email}},[o,Object(a["g"])(m,{modelValue:u.user.email,"onUpdate:modelValue":t[3]||(t[3]=function(e){return u.user.email=e})},null,8,["modelValue"])],2),Object(a["g"])("div",{class:{field:!0,field_invalid:!u.validation.phone}},[i,Object(a["g"])(g,{modelValue:u.user.phone,"onUpdate:modelValue":t[4]||(t[4]=function(e){return u.user.phone=e})},null,8,["modelValue"])],2),Object(a["g"])("div",{class:{field:!0,field_invalid:!u.validation.distance}},[s,Object(a["y"])(Object(a["g"])("select",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return u.user.distance=e})},[d,b,p],512),[[a["u"],u.user.distance]])],2),Object(a["g"])("div",{class:{field:!0,field_invalid:!u.validation.payment}},[f,Object(a["y"])(Object(a["g"])("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=function(e){return u.user.payment=e})},null,512),[[a["v"],u.user.payment]])],2),Object(a["g"])("div",O,[Object(a["g"])("button",{type:"submit",disabled:!u.formValid},"OK",8,["disabled"]),Object(a["g"])("button",{type:"button",onClick:t[7]||(t[7]=function(e){return u.clear()})},"Reset")])],32)})),v=(n("a623"),n("5530"));function m(e,t,n,u,c,r){var l=Object(a["s"])("DatePicker");return Object(a["l"])(),Object(a["e"])(l,{modelValue:n.modelValue,"onUpdate:modelValue":t[1]||(t[1]=function(e){return u.input(e)}),valueType:"format",format:"DD.MM.YYYY"},null,8,["modelValue"])}var g=n("ec45"),h=(n("107a"),{components:{DatePicker:g["default"]},props:["modelValue"],setup:function(e,t){var n=t.emit;function a(e){n("update:modelValue",e)}return{input:a}}});n("2a92");h.render=m;var y=h,V=Object(a["z"])("data-v-009989e2"),U=V((function(e,t,n,u,c,r){return Object(a["l"])(),Object(a["e"])("input",{type:"email",value:n.modelValue,onInput:t[1]||(t[1]=function(e){return u.input(e.target.value)})},null,40,["value"])})),_={props:["modelValue"],setup:function(e,t){var n=t.emit;function a(e){n("update:modelValue",e)}return{input:a}}};_.render=U,_.__scopeId="data-v-009989e2";var k=_,w=Object(a["z"])("data-v-0afbff3e");Object(a["n"])("data-v-0afbff3e");var x={type:"text",ref:"inputElement"};Object(a["m"])();var P=w((function(e,t,n,u,c,r){return Object(a["l"])(),Object(a["e"])("input",x,null,512)})),I=n("0d16"),D={props:["modelValue"],setup:function(e,t){var n=t.emit,u=Object(a["p"])(null),c=null,r={mask:"+{7}(000)000-00-00"};return Object(a["j"])((function(){c=Object(I["a"])(u.value,r).on("accept",(function(){return n("update:modelValue","+"+c.unmaskedValue)})),c.unmaskedValue=e.modelValue})),Object(a["k"])((function(){c.destroy(),c=null})),{inputElement:u}}};D.render=P,D.__scopeId="data-v-0afbff3e";var M=D,C={components:{DatePicker:y,EmailInput:k,PhoneInput:M},setup:function(e,t){var n=t.emit,u=Object(a["o"])({name:"",date:"",email:"",phone:"",distance:"",payment:""});function c(e){e.preventDefault(),i.value&&n("done",Object(v["a"])({},u))}function r(){u.name="",u.date="",u.email="",u.phone="",u.distance="",u.payment=""}var l=Object(a["c"])((function(){return JSON.stringify(u,null,4)})),o=Object(a["o"])({name:Object(a["c"])((function(){return!!u.name})),date:Object(a["c"])((function(){return!!u.date})),email:Object(a["c"])((function(){return!!u.email&&/^.+@.+\..+$/.test(u.email)})),phone:Object(a["c"])((function(){return!!u.phone&&12===u.phone.length})),distance:Object(a["c"])((function(){return!!u.distance})),payment:Object(a["c"])((function(){return!!u.payment&&/^\d+$/.test(u.payment)}))}),i=Object(a["c"])((function(){return[o.name,o.date,o.email,o.phone,o.distance,o.payment].every((function(e){return e}))}));return{user:u,validation:o,formValid:i,submit:c,clear:r,json:l}}};n("b85c");C.render=j,C.__scopeId="data-v-6d84e53f";var S=C;function E(e,t,n,u,c,r){var l=Object(a["s"])("UsersTable"),o=Object(a["s"])("Pagination");return Object(a["l"])(),Object(a["e"])("div",null,[Object(a["g"])(l,{class:"app__users-table",users:u.pagedUsers},null,8,["users"]),Object(a["g"])(o,{page:u.page,total:u.total,step:u.step,onGo:t[1]||(t[1]=function(e){return u.go(e)})},null,8,["page","total","step"])])}n("fb6a");var z=Object(a["z"])("data-v-41ab8ad7");Object(a["n"])("data-v-41ab8ad7");var T=Object(a["g"])("thead",null,[Object(a["g"])("tr",null,[Object(a["g"])("th",null,"#"),Object(a["g"])("th",null,"ФИО"),Object(a["g"])("th",null,"Дата рождения"),Object(a["g"])("th",null,"Email"),Object(a["g"])("th",null,"Телефон"),Object(a["g"])("th",null,"Дистанция"),Object(a["g"])("th",null,"Сумма взноса")])],-1);Object(a["m"])();var Y=z((function(e,t,n,u,c,r){return Object(a["l"])(),Object(a["e"])("table",null,[T,Object(a["g"])("tbody",null,[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(n.users,(function(e){return Object(a["l"])(),Object(a["e"])("tr",{key:e.id},[Object(a["g"])("td",null,Object(a["t"])(e.id),1),Object(a["g"])("td",null,Object(a["t"])(e.name),1),Object(a["g"])("td",null,Object(a["t"])(e.date),1),Object(a["g"])("td",null,Object(a["t"])(e.email),1),Object(a["g"])("td",null,Object(a["t"])(e.phone),1),Object(a["g"])("td",null,Object(a["t"])(e.distance),1),Object(a["g"])("td",null,Object(a["t"])(e.payment),1)])})),128))])])})),J={props:["users"]};n("be56");J.render=Y,J.__scopeId="data-v-41ab8ad7";var R=J,q=Object(a["z"])("data-v-2fbdf584"),F=q((function(e,t,n,u,c,r){return Object(a["l"])(),Object(a["e"])("div",null,[n.page>1?(Object(a["l"])(),Object(a["e"])("span",{key:0,onClick:t[1]||(t[1]=function(e){return u.go(n.page-1)})},"prev")):Object(a["f"])("",!0),(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(Math.ceil(n.total/n.step),(function(e){return Object(a["l"])(),Object(a["e"])("span",{key:e,onClick:function(t){return u.go(e)},class:{active:e==n.page}},Object(a["t"])(e),11,["onClick"])})),128)),n.total>n.page*n.step?(Object(a["l"])(),Object(a["e"])("span",{key:1,onClick:t[2]||(t[2]=function(e){return u.go(n.page+1)})},"next")):Object(a["f"])("",!0)])})),$={props:["total","page","step"],setup:function(e,t){var n=t.emit;function a(e){n("go",e)}return{go:a}}};n("856f");$.render=F,$.__scopeId="data-v-2fbdf584";var A=$,G=n("5502"),K={components:{UsersTable:R,Pagination:A},setup:function(){var e=Object(a["p"])(1),t=Object(a["p"])(5),n=Object(G["b"])(),u=Object(a["c"])((function(){return n.getters.users})),c=Object(a["c"])((function(){return u.value.length})),r=Object(a["c"])((function(){return u.value.slice((e.value-1)*t.value,e.value*t.value)}));function l(t){e.value=t}return{pagedUsers:r,page:e,step:t,total:c,go:l}}};K.render=E;var N=K,B={name:"App",components:{UserForm:S,UsersOverview:N},setup:function(e,t){var n=Object(G["b"])();n.dispatch("loadUsers","/users.json");var u=Object(a["p"])(null);function c(e){n.dispatch("addUser",e),u.value.clear()}return{form:u,formCompleted:c}}};n("9cdc");B.render=u;var H=B,L=(n("99af"),n("13d5"),n("d3b7"),n("96cf"),n("1da1")),Q=n("2909"),W=Object(G["a"])({state:{users:[],nextUserId:0},getters:{users:function(e){return e.users}},mutations:{addUser:function(e,t){var n=e.nextUserId++;e.users=e.users.concat(Object(v["a"])(Object(v["a"])({},t),{},{id:n}))},setUsers:function(e,t){e.users=Object(Q["a"])(t),e.nextUserId=t.reduce((function(e,t){return Math.max(e,t.id)}),0)+1}},actions:{addUser:function(e,t){var n=e.commit;n("addUser",t)},loadUsers:function(e,t){return Object(L["a"])(regeneratorRuntime.mark((function n(){var a,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,n.next=3,fetch(t);case 3:return n.next=5,n.sent.json();case 5:u=n.sent,a("setUsers",u.users);case 7:case"end":return n.stop()}}),n)})))()}},modules:{}});Object(a["d"])(H).use(W).mount("#app")},"856f":function(e,t,n){"use strict";n("8b27")},"8b27":function(e,t,n){},"9cdc":function(e,t,n){"use strict";n("c701")},b85c:function(e,t,n){"use strict";n("201b")},be56:function(e,t,n){"use strict";n("d261")},c701:function(e,t,n){},d261:function(e,t,n){}});
//# sourceMappingURL=app.455cf27c.js.map